"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.realtimeCarUpdateParser = realtimeCarUpdateParser;
var _enums = require("../enums");
var _ReadLap = _interopRequireDefault(require("../lib/ReadLap"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function realtimeCarUpdateParser(reader) {
  const result = {};
  result.CarIndex = reader.ReadUInt16();
  result.DriverIndex = reader.ReadUInt16();
  result.DriverCount = reader.ReadBytes(1).readUInt8(0);
  result.Gear = reader.ReadBytes(1).readUInt8(0) - 1;
  result.WorldPosX = reader.ReadFloat();
  result.WorldPosY = reader.ReadFloat();
  result.Yaw = reader.ReadFloat();
  result.CarLocation = new _enums.CarLocationEnum()[reader.ReadBytes(1).readUInt8(0).toString()];
  result.Kmh = reader.ReadUInt16();
  result.Position = reader.ReadUInt16();
  result.CupPosition = reader.ReadUInt16();
  result.TrackPosition = reader.ReadUInt16();
  result.SplinePosition = reader.ReadFloat();
  result.Laps = reader.ReadUInt16();
  result.Delta = reader.ReadUInt32();
  result.BestSessionLap = (0, _ReadLap.default)(reader);
  result.LastLap = (0, _ReadLap.default)(reader);
  result.CurrentLap = (0, _ReadLap.default)(reader);
  return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZW51bXMiLCJyZXF1aXJlIiwiX1JlYWRMYXAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmVhbHRpbWVDYXJVcGRhdGVQYXJzZXIiLCJyZWFkZXIiLCJyZXN1bHQiLCJDYXJJbmRleCIsIlJlYWRVSW50MTYiLCJEcml2ZXJJbmRleCIsIkRyaXZlckNvdW50IiwiUmVhZEJ5dGVzIiwicmVhZFVJbnQ4IiwiR2VhciIsIldvcmxkUG9zWCIsIlJlYWRGbG9hdCIsIldvcmxkUG9zWSIsIllhdyIsIkNhckxvY2F0aW9uIiwiQ2FyTG9jYXRpb25FbnVtIiwidG9TdHJpbmciLCJLbWgiLCJQb3NpdGlvbiIsIkN1cFBvc2l0aW9uIiwiVHJhY2tQb3NpdGlvbiIsIlNwbGluZVBvc2l0aW9uIiwiTGFwcyIsIkRlbHRhIiwiUmVhZFVJbnQzMiIsIkJlc3RTZXNzaW9uTGFwIiwiUmVhZExhcCIsIkxhc3RMYXAiLCJDdXJyZW50TGFwIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3N0cnVjdHMvUmVhbHRpbWVDYXJVcGRhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FyTG9jYXRpb25FbnVtIH0gZnJvbSBcIkAvZW51bXNcIjtcclxuaW1wb3J0IFJlYWRMYXAgZnJvbSBcIkAvbGliL1JlYWRMYXBcIjtcclxuaW1wb3J0IHsgUmVhbHRpbWVDYXJVcGRhdGUgfSBmcm9tIFwiQC90eXBlc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlYWx0aW1lQ2FyVXBkYXRlUGFyc2VyKHJlYWRlcikge1xyXG4gIGNvbnN0IHJlc3VsdDogUGFydGlhbDxSZWFsdGltZUNhclVwZGF0ZT4gPSB7fTtcclxuXHJcbiAgcmVzdWx0LkNhckluZGV4ID0gcmVhZGVyLlJlYWRVSW50MTYoKTtcclxuICByZXN1bHQuRHJpdmVySW5kZXggPSByZWFkZXIuUmVhZFVJbnQxNigpO1xyXG4gIHJlc3VsdC5Ecml2ZXJDb3VudCA9IHJlYWRlci5SZWFkQnl0ZXMoMSkucmVhZFVJbnQ4KDApO1xyXG4gIHJlc3VsdC5HZWFyID0gcmVhZGVyLlJlYWRCeXRlcygxKS5yZWFkVUludDgoMCkgLSAxO1xyXG4gIHJlc3VsdC5Xb3JsZFBvc1ggPSByZWFkZXIuUmVhZEZsb2F0KCk7XHJcbiAgcmVzdWx0LldvcmxkUG9zWSA9IHJlYWRlci5SZWFkRmxvYXQoKTtcclxuICByZXN1bHQuWWF3ID0gcmVhZGVyLlJlYWRGbG9hdCgpO1xyXG4gIHJlc3VsdC5DYXJMb2NhdGlvbiA9IG5ldyBDYXJMb2NhdGlvbkVudW0oKVtcclxuICAgIHJlYWRlci5SZWFkQnl0ZXMoMSkucmVhZFVJbnQ4KDApLnRvU3RyaW5nKClcclxuICBdO1xyXG4gIHJlc3VsdC5LbWggPSByZWFkZXIuUmVhZFVJbnQxNigpO1xyXG4gIHJlc3VsdC5Qb3NpdGlvbiA9IHJlYWRlci5SZWFkVUludDE2KCk7XHJcbiAgcmVzdWx0LkN1cFBvc2l0aW9uID0gcmVhZGVyLlJlYWRVSW50MTYoKTtcclxuICByZXN1bHQuVHJhY2tQb3NpdGlvbiA9IHJlYWRlci5SZWFkVUludDE2KCk7XHJcbiAgcmVzdWx0LlNwbGluZVBvc2l0aW9uID0gcmVhZGVyLlJlYWRGbG9hdCgpO1xyXG4gIHJlc3VsdC5MYXBzID0gcmVhZGVyLlJlYWRVSW50MTYoKTtcclxuXHJcbiAgcmVzdWx0LkRlbHRhID0gcmVhZGVyLlJlYWRVSW50MzIoKTtcclxuICByZXN1bHQuQmVzdFNlc3Npb25MYXAgPSBSZWFkTGFwKHJlYWRlcik7XHJcbiAgcmVzdWx0Lkxhc3RMYXAgPSBSZWFkTGFwKHJlYWRlcik7XHJcbiAgcmVzdWx0LkN1cnJlbnRMYXAgPSBSZWFkTGFwKHJlYWRlcik7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFBb0MsU0FBQUUsdUJBQUFDLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHN0IsU0FBU0csdUJBQXVCQSxDQUFDQyxNQUFNLEVBQUU7RUFDOUMsTUFBTUMsTUFBa0MsR0FBRyxDQUFDLENBQUM7RUFFN0NBLE1BQU0sQ0FBQ0MsUUFBUSxHQUFHRixNQUFNLENBQUNHLFVBQVUsQ0FBQyxDQUFDO0VBQ3JDRixNQUFNLENBQUNHLFdBQVcsR0FBR0osTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUN4Q0YsTUFBTSxDQUFDSSxXQUFXLEdBQUdMLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0VBQ3JETixNQUFNLENBQUNPLElBQUksR0FBR1IsTUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUNDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0VBQ2xETixNQUFNLENBQUNRLFNBQVMsR0FBR1QsTUFBTSxDQUFDVSxTQUFTLENBQUMsQ0FBQztFQUNyQ1QsTUFBTSxDQUFDVSxTQUFTLEdBQUdYLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDLENBQUM7RUFDckNULE1BQU0sQ0FBQ1csR0FBRyxHQUFHWixNQUFNLENBQUNVLFNBQVMsQ0FBQyxDQUFDO0VBQy9CVCxNQUFNLENBQUNZLFdBQVcsR0FBRyxJQUFJQyxzQkFBZSxDQUFDLENBQUMsQ0FDeENkLE1BQU0sQ0FBQ00sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUNRLFFBQVEsQ0FBQyxDQUFDLENBQzVDO0VBQ0RkLE1BQU0sQ0FBQ2UsR0FBRyxHQUFHaEIsTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUNoQ0YsTUFBTSxDQUFDZ0IsUUFBUSxHQUFHakIsTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUNyQ0YsTUFBTSxDQUFDaUIsV0FBVyxHQUFHbEIsTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUN4Q0YsTUFBTSxDQUFDa0IsYUFBYSxHQUFHbkIsTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUMxQ0YsTUFBTSxDQUFDbUIsY0FBYyxHQUFHcEIsTUFBTSxDQUFDVSxTQUFTLENBQUMsQ0FBQztFQUMxQ1QsTUFBTSxDQUFDb0IsSUFBSSxHQUFHckIsTUFBTSxDQUFDRyxVQUFVLENBQUMsQ0FBQztFQUVqQ0YsTUFBTSxDQUFDcUIsS0FBSyxHQUFHdEIsTUFBTSxDQUFDdUIsVUFBVSxDQUFDLENBQUM7RUFDbEN0QixNQUFNLENBQUN1QixjQUFjLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQ3pCLE1BQU0sQ0FBQztFQUN2Q0MsTUFBTSxDQUFDeUIsT0FBTyxHQUFHLElBQUFELGdCQUFPLEVBQUN6QixNQUFNLENBQUM7RUFDaENDLE1BQU0sQ0FBQzBCLFVBQVUsR0FBRyxJQUFBRixnQkFBTyxFQUFDekIsTUFBTSxDQUFDO0VBRW5DLE9BQU9DLE1BQU07QUFDZiIsImlnbm9yZUxpc3QiOltdfQ==